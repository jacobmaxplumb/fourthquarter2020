(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AllowLiveStreamingMeetings"],{2329:function(e,t,i){"use strict";var s=i("335c6"),c=i.n(s);c.a},"335c6":function(e,t,i){},6785:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mgt-md"},[e.item.child.length>1?i("zm-checkbox-group",{attrs:{vertical:""},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.item.child,(function(t,s){return i("div",{key:"liveStreaming-"+s,staticClass:"checkbox-item"},["YouTube"===t.featureId?i("zm-tooltip",{staticClass:"item",attrs:{content:e.$t("allowLiveStreamingMeetings.youtubeDisabled"),placement:"top",disabled:!e.disableYouTube}},[i("zm-checkbox",{attrs:{name:t.featureName,label:t.featureId,disabled:"YouTube"===t.featureId?e.disabled||e.disableYouTube:e.disabled}},[e._v("\n            "+e._s(t.featureName)+"\n          ")])],1):i("zm-checkbox",{attrs:{name:t.featureName,label:t.featureId,disabled:"YouTube"===t.featureId?e.disabled||e.disableYouTube:e.disabled}},[e._v("\n          "+e._s(t.featureName)+"\n          ")]),"YouTube"===t.featureId&&e.dependFeature.value&&e.checkedYTB?i("zm-alert",{staticClass:"mgt-xs mgb-xs",attrs:{title:e.$t("allowLiveStreamingMeetings.alertTip"),type:"warning",closable:!1}}):e._e()],1)})),0):i("div",e._l(e.item.child,(function(t,s){return i("p",{key:"liveStreaming-"+s},[e._v(e._s(t.featureName))])})),0),e.selectCustom?i("div",{class:["modal-content-box",e.item.child.length>1?"custom-textarea":""]},[i("p",{staticClass:"color-grey",staticStyle:{"margin-top":"6px","line-height":"18px"}},[e._v(e._s(e.$t("allowLiveStreaming.customServiceTps")))]),i("zm-input",{attrs:{label:e.$t("allowLiveStreaming.customServiceTps"),type:"textarea",disabled:e.disabled},model:{value:e.customValue,callback:function(t){e.customValue=t},expression:"customValue"}})],1):e._e(),i("p",{directives:[{name:"show",rawName:"v-show",value:e.showResultBox,expression:"showResultBox"}],staticClass:"result-box alert-error"},[e._v(e._s(e.$t("allowLiveStreaming.mustSelectOne")))]),e.modified?i("div",{staticClass:"btn-tool mgt-md"},[i("zm-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.onSave}},[e._v("\n      "+e._s(e.$t("common.save"))+"\n    ")]),i("zm-button",{attrs:{plain:""},on:{click:e.onCancel}},[e._v("\n      "+e._s(e.$t("common.cancel"))+"\n    ")])],1):e._e()],1)},c=[],a=(i("ac6a"),i("6762"),i("2fdb"),i("b06d")),u=i("0a94"),l=i("5c8a"),n=i("6740"),o=i("05e2"),h={name:"AllowLiveStreamingMeetings",props:["item","level","readonly"],mixins:[a["a"]],inject:["root"],data:function(){return{loading:!1,showResultBox:!1,activeEl:null,checkList:[],initCheckedData:[],customObj:Object(u["a"])(this.item.child,{featureId:"CustomLiveStreamingService"})||{},customValue:Object(u["a"])(this.item.child,{featureId:"CustomLiveStreamingService"}).child?Object(u["a"])(this.item.child,{featureId:"CustomLiveStreamingService"}).child[0].value:""}},computed:{disabled:function(){return this.readonly||this.item.locked.value&&this.item.locked.level!==this.level},checkedYTB:function(){return this.checkList.includes("YouTube")},selectCustom:function(){return this.checkList.includes("CustomLiveStreamingService")},modified:function(){return!this.isSame(this.checkList,this.initCheckedData)},dependFeature:function(){return this.root.getFeatureById("e2e")},disableYouTube:function(){return this.dependFeature.locked.value&&this.dependFeature.value}},watch:{modified:function(e){e&&(this.activeEl=document.activeElement)},disableYouTube:function(e){e?this.removeYouTubeSelected():this.getCheck(this.item)}},methods:{isSame:function(e,t){if(e.length!==t.length)return!1;if(this.customObj.child&&this.customObj.child[0]&&this.customObj.child[0].value!==this.customValue)return!1;for(var i=t.slice(),s=0,c=e.length;s<c;s++){var a=i.indexOf(e[s]);if(-1===a)return!1;i.splice(a,1)}return!0},removeYouTubeSelected:function(){this.checkList=Object(n["a"])(this.checkList,(function(e){return"YouTube"!==e})),this.initCheckedData=Object(l["a"])(this.checkList)},onSave:function(){var e=this;if(0===this.checkList.length)return this.showResultBox=!0,!1;this.showResultBox=!1,this.loading=!0;var t=[],i={};this.item.child.length>1&&this.item.child.forEach((function(i){var s={};s.featureId=i.featureId,s.featureLevel=i.featureLevel,e.checkList.includes(i.featureId)?s.value=!0:s.value=!1,t.push(s)})),this.customObj.child[0]&&this.customObj.child[0].value!==this.customValue&&(i={featureId:this.customObj.child[0].featureId,featureLevel:this.level,value:this.customValue},t.push(i)),this.$emit("custom-submit",t)},onCancel:function(){this.showResultBox=!1,this.loading=!1,this.resetValue(),this.activeEl&&this.activeEl.focus()},resetValue:function(){this.checkList=Object(l["a"])(this.initCheckedData),this.customValue=this.customObj.child?this.customObj.child[0].value:""},updateStatusHandler:function(e){e.type;var t=e.status,i=e.response;this.loading=!1,t&&(this.getCheck(i.affectedList[0]),this.customObj.child[0]&&(this.customObj.child[0].value=this.customValue),this.activeEl&&this.activeEl.focus())},getCheck:function(e){var t=this;this.checkList=[],this.customObj={},this.customValue="",e.child.forEach((function(e){e.value&&t.checkList.push(e.featureId)})),this.disableYouTube&&this.removeYouTubeSelected(),1===e.child.length&&"CustomLiveStreamingService"===e.child[0].featureId&&this.checkList.push("CustomLiveStreamingService"),this.checkList=Object(o["a"])(this.checkList),this.initCheckedData=Object(l["a"])(this.checkList),this.customObj=Object(u["a"])(e.child,{featureId:"CustomLiveStreamingService"}),this.customValue=Object(u["a"])(e.child,{featureId:"CustomLiveStreamingService"}).child?Object(u["a"])(this.item.child,{featureId:"CustomLiveStreamingService"}).child[0].value:""}},created:function(){this.getCheck(this.item)}},r=h,d=(i("2329"),i("2877")),m=Object(d["a"])(r,s,c,!1,null,"4b072d9b",null);t["default"]=m.exports}}]);