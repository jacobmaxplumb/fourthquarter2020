(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["passwordForAllMeetings"],{"995c":function(s,t,e){"use strict";e.r(t);var i=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",["user"!=s.level||"user"==s.level&&s.item.child[0].value?e("div",{staticClass:"mgt-md"},[e("zm-tooltip",{attrs:{disabled:!s.disabledCheckbox,content:s.$t("shareCloudRecordings.enableTips"),placement:"top-start"}},[e("zm-checkbox",{staticClass:"mgr-xs",attrs:{disabled:s.disabledCheckbox||s.disabled||"user"==s.level&&s.item.child[0].value},model:{value:s.isChecked,callback:function(t){s.isChecked=t},expression:"isChecked"}},[s._v("\n        "+s._s(s.$t("passwordForAllMeetings.alreadyScheduled"))+"\n      ")])],1),e("zm-tooltip",{attrs:{content:s.$t("passwordForAllMeetings.noPasswordBefore"),placement:"top"}},[e("zm-button",{staticStyle:{"font-size":"14px"},attrs:{type:"icon",icon:"zm-icon-help-outline","aria-label":"Help"}})],1)],1):s._e(),"user"==s.level&&s.isChecked?e("div",{staticClass:"mgt-xs mgl-lg"},[e("password-input",{ref:"passwordInput",attrs:{"password-must":s.passwordMust,"password-must-not":s.passwordMustNot,password:s.password,"max-length":10,"input-width":116,error:s.error||s.error2||s.weakPassword,"input-editing":s.inputEditing,label:s.$t("validator.meetingPasswordLabel"),"input-id":"meetingPassword"},on:{inputPassword:s.inputChange}}),s.weakPassword?e("p",{staticClass:"error-content error-color"},[s._v("\n      "+s._s(s.weakPassword)+"\n    ")]):s._e(),s.inputEditing?s._e():e("span",{staticClass:"mgl-md"},[s.password?e("span",{staticClass:"content-color"},[s._v(s._s(s.password))]):e("span",{staticClass:"color-grey"},[s._v(" "+s._s(s.$t("common.notYet")))]),e("zm-button",{ref:"editBtn",staticClass:"mgl-sm",attrs:{type:"icon",icon:"zm-icon-edit","aria-label":"Edit password for meetings which have already been scheduled"},on:{click:function(t){s.inputEditing=!0}}})],1)],1):s._e(),s.error?e("p",{staticClass:"error-color error-content mgl-lg",domProps:{textContent:s._s(s.errorText)}}):s._e(),s.error2?e("p",{staticClass:"error-color error-content mgl-lg",domProps:{textContent:s._s(s.errorText2)}}):s._e(),(s.modified||s.inputEditing)&&s.item.locked.value?e("div",{class:["mgt-md",{"mgl-lg":"user"===s.level}]},[e("zm-button",{attrs:{type:"primary",loading:s.loading,disabled:s.error||s.error2||s.passwordSaveDisabled},on:{click:s.save}},[s._v("\n      "+s._s(s.$t("common.save"))+"\n    ")]),e("zm-button",{attrs:{disabled:s.loading,plain:""},on:{click:s.cancel}},[s._v("\n      "+s._s(s.$t("common.cancel"))+"\n    ")])],1):s._e(),e("zm-dialog",{attrs:{visible:s.addPasswordConfirm,width:"520px",title:s.$t("passwordForAllMeetings.dialogTitle"),"aria-describedby":s.addPasswordConfirm?"add_password_confirm":null},on:{"update:visible":function(t){s.addPasswordConfirm=t}}},[e("p",{staticClass:"dialog-content",attrs:{id:"add_password_confirm"}},[s._v("\n      "+s._s(s.$t("passwordForAllMeetings.dialogContent"))+"\n    ")]),e("zm-alert",{staticClass:"mgt-md",attrs:{title:s.$t("passwordForAllMeetings.scheduleDescUserTip"),type:"warning",closable:!1}}),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("zm-button",{attrs:{disabled:s.loading,plain:""},on:{click:s.cancel}},[s._v(s._s(s.$t("common.cancel")))]),e("zm-button",{attrs:{focusFirst:"",type:"primary",loading:s.loading},on:{click:s.save}},[s._v("\n        "+s._s(s.$t("common.btnContinue"))+"\n      ")])],1)],1)],1)},r=[],o=e("b06d"),a=e("cf99"),d=e("9f1b"),n=/^[0-9a-zA-Z]{1,10}$/,l={name:"passwordForAllMeetings",props:["item","level","readonly"],mixins:[o["a"],d["a"]],components:{passwordInput:a["a"]},data:function(){return{lastSubmitType:"",disabled:this.readonly||void 0!==this.item.locked&&this.item.locked.value&&this.item.locked.level!==this.level,loading:!1,inputEditing:!1,weakPassword:"",addPasswordConfirm:!1,isChecked:this.item.child[0].value,password:this.item.child[1].value,error:!1,errorText:"",error2:!1,errorText2:"",passwordMust:[],passwordMustNot:[],activeEl:null}},watch:{inputEditing:function(s){var t=this;this.weakPassword="",s?(this.initPasswordRule(),this.$nextTick((function(){t.$refs.passwordInput.$refs.password&&t.$refs.passwordInput.$refs.password.focus()})),(this.passwordMust.length||this.passwordMustNot.length)&&this.passwordValidator(this.password)):this.$nextTick((function(){t.$refs.editBtn&&t.$refs.editBtn.$el.focus()}))},"item.locked.value":function(s){if(!s&&"user"!==this.level&&(this.isChecked=!1,"reset"!==this.lastSubmitType)){var t=[{featureId:this.item.child[0].featureId,featureLevel:this.level,value:this.isChecked}];this.$emit("custom-submit",t)}},modified:function(s){s&&(this.activeEl=document.activeElement)}},computed:{disabledCheckbox:function(){return"user"!==this.level&&!this.item.locked.value},locked:function(){return"undefined"!==typeof this.item.locked&&this.item.locked.value&&this.item.locked.level!==this.level},modified:function(){return this.isChecked!==this.item.child[0].value||this.password!==this.item.child[1].value},passwordSaveDisabled:function(){return!this.rulePassed&&this.inputEditing&&"user"===this.level}},methods:{inputChange:function(s){this.weakPassword="",this.password=s,this.passwordMust.length||this.passwordMustNot.length?this.passwordValidator(this.password):n.test(this.password)&&(this.error2=!1),""!==this.password&&(this.error=!1)},save:function(){var s=this;if(this.weakPassword="",""===this.password&&"user"===this.level)return this.error=!0,this.errorText=this.$t("validator.required"),void this.$nextTick((function(){s.$refs.passwordInput.$refs.password&&s.$refs.passwordInput.$refs.password.focus()}));if(this.passwordMust.length||this.passwordMustNot.length){if(this.passwordSaveDisabled)return void this.$nextTick((function(){s.$refs.passwordInput.$refs.password&&s.$refs.passwordInput.$refs.password.focus()}))}else if(!n.test(this.password)&&"user"===this.level)return this.error2=!0,this.errorText2=this.$t("validator.regcheck"),void this.$nextTick((function(){s.$refs.passwordInput.$refs.password&&s.$refs.passwordInput.$refs.password.focus()}));if("user"!==this.level&&this.isChecked&&!this.addPasswordConfirm)this.addPasswordConfirm=!0;else{var t=[{featureId:this.item.child[0].featureId,featureLevel:this.item.child[0].featureLevel,value:this.isChecked}];"user"===this.level&&t.push({featureId:this.item.child[1].featureId,featureLevel:this.item.child[1].featureLevel,value:this.password}),this.$emit("custom-submit",t),this.loading=!0}},cancel:function(){this.isChecked=this.item.child[0].value,this.password=this.item.child[1].value,this.weakPassword="",this.error=!1,this.error2=!1,this.addPasswordConfirm=!1,this.inputEditing=!1,this.activeEl&&this.activeEl.focus()},updateStatusHandler:function(s){var t=this,e=s.type,i=s.status,r=s.response;this.lastSubmitType=e,!i&&r.message&&0===r.message.indexOf("WeakPassword")?(this.weakPassword=r.message.slice(12)?r.message.slice(12):this.$t("meetingPasswordRule.weakError"),this.$nextTick((function(){t.$refs.passwordInput.$refs.password&&t.$refs.passwordInput.$refs.password.focus()}))):(this.inputEditing=!1,this.addPasswordConfirm=!1,this.error=!1,this.error2=!1,this.isChecked=this.item.child[0].value,this.password=this.item.child[1].value,this.initPasswordRule(),this.activeEl&&this.activeEl.focus()),this.loading=!1}},mounted:function(){this.item.scheduleOption=!1,this.initPasswordRule()}},c=l,u=e("2877"),h=Object(u["a"])(c,i,r,!1,null,"332f2538",null);t["default"]=h.exports}}]);